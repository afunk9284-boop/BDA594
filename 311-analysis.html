<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>311 Report Analysis · Weather, Policy, and Topic Modeling of 311 Reports on Homelessness in San Diego</title>
  <meta name="description" content="Methods and findings from 311 reports text analysis."/>
  <meta name="theme-color" content="#ffffff" />
  <link rel="stylesheet" href="assets/style.css"/>
  <style>
    body {
      background: #f5f5f5;
      color: #111;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    .viz-container {
      margin-top: 1.5rem;
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 8px;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04);
      padding: 1rem;
    }
    .viz-caption {
      margin-top: .5rem;
      color: #555;
      font-size: .9rem;
    }
  </style>
</head>
<body>
  
<header class="site">
  <div class="container nav">
    <div class="brand">
      <span class="brand-badge" aria-hidden="true"></span>
      <span>Weather, Policy, & Topic Modeling (San Diego)</span>
    </div>
    <nav class="navlinks" aria-label="Primary">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="311-analysis.html">311 Analysis</a>
      <a href="migration.html">Encampment Migration</a>
      <a href="weather.html">Weather</a>
      <a href="policy.html">Policy</a>
      <a href="conclusion.html">Conclusion</a>
      <a href="data.html">Data Description</a>
      <a href="team.html">Team</a>
    </nav>
  </div>
</header>

<main>
  <section class="container">
    <div role="region" aria-label="Page title">
      <h1>311 Report Analysis · Weather, Policy, and Topic Modeling of 311 Reports on Homelessness in San Diego</h1>
      <p class="subtitle">Methods and findings from 311 reports text analysis.</p>
    </div>

    <article class="panel">
      <h2>311 Report Analysis</h2>
      <p>Text preprocessing, topic modeling approach (e.g., LDA / BERTopic), validation, and interpretation of homelessness-related themes.</p>
    </article>

    <!-- Top Words (first) -->
    <article class="panel viz-container viz-top-words">
      <h2>Interactive Top Words by Topic</h2>

      <!-- BEGIN INLINE TOP WORDS -->
      <!-- ✅ Paste everything from inside <body> ... </body> of topic_top_words_offline.html here -->
      <div id="topic_top_words_light"></div>
      <div id="topic_top_words_panel_light">
        <b>Topic details</b> (click a bar or label)
      </div>
      <script>
        // Paste your Plotly.newPlot(...) + click handler from topic_top_words_offline.html here
      </script>
      <!-- END INLINE TOP WORDS -->

      <p class="viz-caption">
        Tip: click any topic to inspect its top words and weights.
      </p>
    </article>

    <!-- Heatmap (second) -->
    <article class="panel viz-container viz-heatmap">
      <h2>Interactive Topic Heatmap</h2>

      <!-- BEGIN INLINE HEATMAP -->
      <!-- ✅ Paste everything from inside <body> ... </body> of topic_heatmap_offline.html here -->
      <div id="topic_heat_light"></div>
      <div id="topic_heat_panel_light">
        <b>Cell details</b> (click a square above)
      </div>
      <script>
        // Paste your Plotly.newPlot(...) + click handler from topic_heatmap_offline.html here
      </script>
      <!-- END INLINE HEATMAP -->

      <p class="viz-caption">
        Tip: click any square to see that month’s sample report texts for the selected topic.
      </p>
    </article>

    <!-- Make Top Words double-height -->
    <script>
      (function () {
        const TW = document.querySelector('.viz-top-words');
        if (!TW) return;
        const graphs = TW.querySelectorAll('.plotly-graph-div, [id^="plotly"]');
        graphs.forEach(g => {
          g.style.height = '560px'; // about double a normal plot height
          if (window.Plotly && g && g.data) {
            window.Plotly.relayout(g, { height: 560 }).catch(() => {});
          }
        });
      })();
    </script>

  </section>
</main>
  
<footer>
  <div class="container foot">
    <small>© <span id="y"></span> Project Site</small>
  </div>
</footer>
<script src="assets/site.js"></script>

</body>
</html>
